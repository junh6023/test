<!doctype html>
<html>

<head>
    <title>CSS</title>
    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
</head>

<body>

    <table border="3" bordercolor="skyblue" width="700" height="600" align="center">
        <!-- 테투리 스타일,너비설정 -->
        <tr bgcolor="skyblue" align="center">
            <h3>
                <td height="40" colspan="7" span="span" style="skyblue">
                    <b>회원 기본 정보</b>
            </h3>
            </td>

            <!--테이블 헤드 -->
        </tr>
        <tr bgcolor="white">
            <td align="center" width="150" ">
                    <b>아이디:</b>
                </td>
                <td colspan=" 7"><input type="text" name="my_name" id="id" size="20">
                4~12자의 영문 대소문자와 숫자로만 입력
                <!--텍스트타입의 공간 생성-->
        </tr>
        <tr>
            <td align="center">
                <b>비밀번호:</b>
            </td>
            <td colspan="7"><input type="password" name="my_name" id="pw" size="20">
                4~12자의 영문 대소문자와 숫자로만 입력
                <!--패스워드 타입의 공간 생성-->
        </tr>

        <tr>
            <td align="center">
                <b>비밀번호확인:</b>
            </td>
            <td colspan="7"><input type="password" name="my_name" id="pw2" size="20">
        </tr>
        <tr>
            <td align="center">
                <b>메일주소:</b>
            </td>
            <td colspan="7"><input type="text" name="my_name" id="email" size="25">
                예)id@domain.com
        </tr>
        <tr>
            <td align="center">
                <b>이름:</b>
            </td>
            <td colspan="7"><input type="text" name="my_name" id="name" size="25">
        </tr>
        <tr>
        <tr bgcolor="skyblue" align="center">
            <h3>
                <td height="40" colspan="7" span="span" style="skyblue">
                    <b>개인 신상 정보</b>
            </h3>
            </td>
        </tr>
        <tr>
            <th>주소</th>
            <td><input type="text" id="address_kakao" name="address" size="35" readonly="readonly" /></td>
        </tr>
        <tr>
            <th>상세 주소</th>
            <td><input type="text" id="address2" name="address_detail" /></td>
        </tr>

        <tr>
            <td align="center">
                <b>주민등록번호:</b>
            </td>
            <td colspan="7"><input type="text" name="jumin1" id="jumin1" size="7" />
                -
                <input type="password" name="jumin2" id="jumin2" size="7" />
                <button onclick="change()">확인</button>
            </td>
        </tr>

        <tr>
            <td align="center">
                <b>생일:</b>
            </td>
            <td colspan="6">
                <input type="text" name="year" id="year" size="4" />년
                <input type="text" name="month" id="month" size="2" />월
                <input type="text" name="date" id="date" size="2" />일
                
            </td>
        </tr>

        <tr>
            <td align="center">
                <b>관심분야:</b>
            <td colspan="7">
                <!--체크박스 타입의 박스 생성 -->
                <input type="checkbox"  name="box"  value="컴퓨터">컴퓨터 
                <input type="checkbox"  name="box"  value="인터넷">인터넷
                <input type="checkbox"  name="box"  value="여행">여행
                <input type="checkbox"" name="box"  value="영화감상">영화감상
                <input type="checkbox"  name="box"  value="음악감상">음악감상
            </td>
        </tr>
        <tr>
            <td align="center">
                <b>자기소개:</b>
            </td>
            <td width="530">
                <textarea name="my_intro" id ="text" cols="60" rows="7"></textarea>
            </td>
            <!--textarea = 텍스트를 쓸 수 있는 공간 생성 -->
        </tr>
    </table>

    <br>
    <center>

        <p><input type="button" value="회원가입" onclick="myFunc()" />
            <input type="reset" value="다시 입력" onclick="myReset()" />
        </p>

    </center>

    <h3>The ltch-NEFFEX</h3>
    <audio src="The Itch - NEFFEX.mp3" autoplay="autoplay" controls="controls"></audio>
</body>

<script>
    var flag1 = Boolean(false);
    var flag2 = Boolean(false);
    
    // '^' : 시작 , '+':연속 , '$':끝
    function myFunc() {
        
        var txt = "";

        //형식 : 주민번호 앞자리 숫자 6개
        var check1 = /^\d{6}$/g;
        //형식 : 주민번호 앞자리 숫자 7개
        var check2 = /^\d{7}$/g;
        //형식 : @' 포함여부와 대문자,소문자를 구분하지않게 표현식끝에 i 사용
        var check3 = /^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/i;
        //형식 :최소 8 자, 하나 이상의 대문자, 하나의 소문자 및 하나의 숫자
        var check4 = /^[a-z]+[a-z0-9]{4,12}$/g;
        //형식 : 4~12자 문자
        var check5 = /^[a-z]+[a-z0-9]{4,12}$/g;
        //
        var check6 = /[ㄱ-힣]/;

        var id = document.getElementById("id").value;
        var jumin1 = document.getElementById("jumin1").value;
        var jumin2 = document.getElementById("jumin2").value;
        var email = document.getElementById("email").value;
        var pw = document.getElementById("pw").value;
        var pw2 = document.getElementById("pw2").value;
        var name = document.getElementById("name").value;
        var address = document.getElementById("address_kakao").value;
        var address2 = document.getElementById("address2").value;
        var checkbox=document.getElementsByName("box");
        var text = document.getElementById("text").value;

        if (id == "") {

            alert("id를 입력하세요");
            document.getElementById("id").focus();
            return false;
        }
        if (!check5.test(id)) {

            alert("아이디 형식을 확인하세요.");
            return false;
        }
        if (pw == "") {

            alert("패스워드를 입력하세요");
            document.getElementById("pw").focus();
            return false;
        }
        if (!check4.test(pw)) {

            alert("패스워드 형식을 확인하세요.");
            return false;
        }
        if (pw2 != pw) {

            alert("패스워드를 확인하세요");
            document.getElementById("pw2").focus();
            return false;
        }
        if (email == "") {
            alert("이메일을 입력하세요");
            document.getElementById("email").focus();
            return false;
        }
        if (!check3.test(email)) {

            alert("이메일 형식을 확인하세요");
            return false;
        }
        if (name == "") {
            alert("이름을 입력하세요");
            document.getElementById("name").focus();
            return false;
        }
        if (!check6.test(name)) {

            alert("이름 형식을 확인하세요");
            return false;
        }
        if (flag2 == false) {
            alert("주소를 입력해주세요.");
            document.getElementById("address_kakao").focus();
            return false;
        }
        if (address2 == "") {

            alert("상세주소를 입력해주세요");
            document.getElementById("address2").focus();
            return false;
        }

        if (jumin1 == "" || jumin2 == "") {
            alert("주민번호를 입력하세요");
            document.getElementById("jumin1").focus();
            return false;
        }
        if (!check1.test(jumin1) || !check2.test(jumin2)) {

            alert("주민번호 형식과 자리수를 확인하세요");
            return false;
        }
       
        if (flag1 == false) {
            alert("주민등록번호를 확인을 완료해주세요.");
            document.getElementById("jumin1").focus();
            return false;
        }
        
        if(!checkbox[0].checked&&
        !checkbox[1].checked &&!checkbox[2].checked &&!checkbox[3].checked &&!checkbox[4].checked){
            alert("취미를 1개 이상 선택하세요.");
            return false;
        
        }
        if (text == "") {

            alert("자기소개를 입력하세요.");
            document.getElementById("text").focus();
            return false;
            }

        alert("완료되었습니다.")
        window.location.href = "mailto:iwebgenie@gmail.com?subject=안녕하세요";

    }

    function myReset() {
        myform.content.value = "";
        document.getElementById("demo").innerHTML = "";
    }

    window.onload = function () {
        document.getElementById("address_kakao").addEventListener("click", function () {//주소입력칸을 클릭하면 카카오 지도 발생

                new daum.Postcode({oncomplete: function (data) { //선택시 입력값 세팅
                        document.getElementById("address_kakao").value = data.address; // 주소 넣기
                        if(document.getElementById("address_kakao") == ""){
                            window.alert("주소를 입력하세요.");
                            return false;
                        }
                        flag2 = Boolean(true);
                        document.querySelector("input[name=address_detail]").focus(); //상세입력 포커싱
                       

                        }

                    })
                    .open();
            });

           
    }
    
    function change() {
        console.log("test");
        //형식 : 주민번호 앞자리 숫자 6개
        var check1 = /^\d{6}$/g;
        //형식 : 주민번호 앞자리 숫자 7개
        var check2 = /^\d{7}$/g;
        var jumin1 = document.getElementById("jumin1").value;
        var jumin2 = document.getElementById("jumin2").value;

        // 주민번호 첫쨰자리에서 년,월,일 값을 가져오기
        var year = jumin1.substring(0, 2);
        var month = jumin1.substring(2, 4);
        var date = jumin1.substring(4, 6);

        // 빈값 및 자리수 채크

        if (jumin1 == "" || jumin2 == "") {
            alert("주민번호를 입력하세요");
            document.getElementById("jumin1").focus();
            return false;
        } else if (!check1.test(jumin1) || !check2.test(jumin2)) {

            alert("주민번호 형식과 자리수를 확인하세요");
            return false;
        } else {
            document.getElementById("year").value = year;
            document.getElementById("month").value = month;
            document.getElementById("date").value = date;
            flag1 = Boolean(true);

        }

    }
</script>

</html>